<?xml version="1.0" ?>
<ns0:svg xmlns:ns0="http://www.w3.org/2000/svg" viewBox="0.0 0.0 2025.0 1575.0">
  <ns0:rect width="100%" height="100%" fill="#f8f9fa" rx="8"/>
  <ns0:defs>
    <ns0:marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <ns0:path d="M0,0 L0,6 L9,3 z" fill="#1a237e"/>
    </ns0:marker>
    <ns0:marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <ns0:path d="M0,0 L0,6 L9,3 z" fill="#2e7d32"/>
    </ns0:marker>
  </ns0:defs>
  <ns0:text x="450" y="30" font-size="22" font-weight="bold" text-anchor="middle" fill="#1a237e">
    Cross-Entropy + Softmax: The Perfect Gradient
  </ns0:text>
  <ns0:g transform="translate(50, 80)">
    <ns0:text x="200" y="55.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#1565c0">
      Step 1: Softmax Converts Logits to Probabilities
    </ns0:text>
    <ns0:rect x="20" y="20" width="120" height="160" fill="#1a237e" stroke="#e0e0e0" stroke-width="2" rx="5"/>
    <ns0:text x="80" y="80.0" font-size="13" font-weight="bold" text-anchor="middle" fill="#1a237e">
      Logits z
    </ns0:text>
    <ns0:text x="80" y="105.0" font-size="12" text-anchor="middle" fill="#c62828">z‚ÇÅ = 2.0</ns0:text>
    <ns0:text x="80" y="130.0" font-size="12" text-anchor="middle" fill="#2e7d32">z‚ÇÇ = 5.0</ns0:text>
    <ns0:text x="80" y="155.0" font-size="12" text-anchor="middle" fill="#1565c0">z‚ÇÉ = 1.0</ns0:text>
    <ns0:text x="80" y="180.0" font-size="11" fill="#1a237e" text-anchor="middle">Raw network</ns0:text>
    <ns0:text x="80" y="205.0" font-size="11" fill="#1a237e" text-anchor="middle">outputs</ns0:text>
    <ns0:path d="M 150,100 L 210,100" stroke="#ffffff" stroke-width="3" marker-end="url(#arrow)"/>
    <ns0:text x="180" y="230.0" font-size="12" font-weight="bold" text-anchor="middle" fill="#e67e22">
      Softmax
    </ns0:text>
    <ns0:rect x="160" y="105" width="80" height="70" fill="#fff8e1" stroke="#ffa726" stroke-width="1" rx="3"/>
    <ns0:text x="200" y="255.0" font-size="10" text-anchor="middle" fill="#1a237e">
      p·µ¢ = exp(z·µ¢)
    </ns0:text>
    <ns0:text x="200" y="280.0" font-size="10" text-anchor="middle" fill="#1a237e">
      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    </ns0:text>
    <ns0:text x="200" y="305.0" font-size="10" text-anchor="middle" fill="#1a237e">
      Œ£‚±º exp(z‚±º)
    </ns0:text>
    <ns0:text x="200" y="330.0" font-size="8" fill="#1a237e" text-anchor="middle">
      (stable with max trick)
    </ns0:text>
    <ns0:rect x="260" y="20" width="120" height="160" fill="#1a237e" stroke="#28a745" stroke-width="2" rx="5"/>
    <ns0:text x="320" y="355.0" font-size="13" font-weight="bold" text-anchor="middle" fill="#1a237e">
      Probabilities p
    </ns0:text>
    <ns0:text x="320" y="380.0" font-size="12" text-anchor="middle" fill="#c62828">p‚ÇÅ = 0.12</ns0:text>
    <ns0:text x="320" y="405.0" font-size="12" text-anchor="middle" fill="#2e7d32">p‚ÇÇ = 0.85 ‚úì</ns0:text>
    <ns0:text x="320" y="430.0" font-size="12" text-anchor="middle" fill="#1565c0">p‚ÇÉ = 0.04</ns0:text>
    <ns0:text x="320" y="455.0" font-size="11" fill="#1a237e" text-anchor="middle">Sum = 1.0</ns0:text>
    <ns0:text x="320" y="480.0" font-size="11" fill="#1a237e" text-anchor="middle">Valid distribution</ns0:text>
  </ns0:g>
  <ns0:g transform="translate(450, 80)">
    <ns0:text x="200" y="505.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#c62828">
      Step 2: Cross-Entropy Measures Error
    </ns0:text>
    <ns0:rect x="20" y="20" width="120" height="160" fill="#1a237e" stroke="#fd7e14" stroke-width="2" rx="5"/>
    <ns0:text x="80" y="530.0" font-size="13" font-weight="bold" text-anchor="middle" fill="#1a237e">
      True Label y
    </ns0:text>
    <ns0:text x="80" y="555.0" font-size="12" text-anchor="middle" fill="#1a237e">y‚ÇÅ = 0</ns0:text>
    <ns0:text x="80" y="580.0" font-size="12" text-anchor="middle" fill="#2e7d32" font-weight="bold">y‚ÇÇ = 1 ‚úì</ns0:text>
    <ns0:text x="80" y="605.0" font-size="12" text-anchor="middle" fill="#1a237e">y‚ÇÉ = 0</ns0:text>
    <ns0:text x="80" y="630.0" font-size="11" fill="#1a237e" text-anchor="middle">One-hot</ns0:text>
    <ns0:rect x="160" y="60" width="80" height="80" fill="#1a237e" stroke="#dc3545" stroke-width="1" rx="3"/>
    <ns0:text x="200" y="655.0" font-size="10" text-anchor="middle" fill="#1a237e">
      L = -log(p_y)
    </ns0:text>
    <ns0:text x="200" y="680.0" font-size="9" text-anchor="middle" fill="#1a237e">
      = -Œ£·µ¢ y·µ¢¬∑log(p·µ¢)
    </ns0:text>
    <ns0:text x="200" y="705.0" font-size="10" text-anchor="middle" fill="#922b21" font-weight="bold">
      = -log(0.85)
    </ns0:text>
    <ns0:text x="200" y="730.0" font-size="10" text-anchor="middle" fill="#922b21" font-weight="bold">
      = 0.16
    </ns0:text>
    <ns0:rect x="260" y="60" width="120" height="80" fill="#e1f5fe" stroke="#007bff" stroke-width="2" rx="5"/>
    <ns0:text x="320" y="755.0" font-size="13" font-weight="bold" text-anchor="middle" fill="#1a237e">
      Loss
    </ns0:text>
    <ns0:text x="320" y="780.0" font-size="18" font-weight="bold" text-anchor="middle" fill="#0277bd">
      L = 0.16
    </ns0:text>
    <ns0:text x="320" y="805.0" font-size="10" fill="#1a237e" text-anchor="middle">
      Low = Good!
    </ns0:text>
  </ns0:g>
  <ns0:g transform="translate(50, 300)">
    <ns0:rect x="0" y="0" width="800" height="150" fill="#1a237e" stroke="#28a745" stroke-width="3" rx="10"/>
    <ns0:text x="400" y="830.0" font-size="18" font-weight="bold" text-anchor="middle" fill="#145a32">
      üéØ The Magic: Elegant Gradient ‚àÇL/‚àÇz
    </ns0:text>
    <ns0:g transform="translate(20, 50)">
      <ns0:text x="0" y="855.0" font-size="14" font-weight="bold" fill="#1a237e">
        Direct Computation:
      </ns0:text>
      <ns0:text x="0" y="880.0" font-size="13" font-family="Arial, sans-serif" fill="#1a237e">
        ‚àÇL/‚àÇz·µ¢ = ‚àÇL/‚àÇp‚±º ¬∑ ‚àÇp‚±º/‚àÇz·µ¢  (chain rule, sum over j)
      </ns0:text>
      <ns0:text x="0" y="905.0" font-size="12" fill="#1a237e">
        Softmax derivative: ‚àÇp‚±º/‚àÇz·µ¢ = p‚±º(Œ¥·µ¢‚±º - p·µ¢)
      </ns0:text>
      <ns0:text x="0" y="930.0" font-size="12" fill="#1a237e">
        Cross-entropy: ‚àÇL/‚àÇp‚±º = -y‚±º/p‚±º
      </ns0:text>
    </ns0:g>
    <ns0:path d="M 380,100 L 420,100" stroke="#28a745" stroke-width="4" marker-end="url(#arrowGreen)"/>
    <ns0:rect x="440" y="55" width="340" height="80" fill="#fff9e6" stroke="#fd7e14" stroke-width="2" rx="5"/>
    <ns0:text x="610" y="955.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#e67e22">
      Simplifies to:
    </ns0:text>
    <ns0:text x="610" y="980.0" font-size="20" font-family="Arial, sans-serif" font-weight="bold" text-anchor="middle" fill="#d35400">
      ‚àÇL/‚àÇz·µ¢ = p·µ¢ - y·µ¢
    </ns0:text>
    <ns0:text x="610" y="1005.0" font-size="12" text-anchor="middle" fill="#1a237e">
      Prediction - Truth!
    </ns0:text>
  </ns0:g>
  <ns0:g transform="translate(50, 480)">
    <ns0:text x="400" y="1030.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#1565c0">
      Example: Gradient for Our Case
    </ns0:text>
    <ns0:rect x="0" y="20" width="800" height="120" fill="#1a237e" stroke="#e0e0e0" stroke-width="2" rx="5"/>
    <ns0:g transform="translate(30, 50)">
      <ns0:text x="0" y="1055.0" font-size="13" font-weight="bold" fill="#c62828">Class 1:</ns0:text>
      <ns0:text x="0" y="1080.0" font-size="12" fill="#1a237e">p‚ÇÅ = 0.12, y‚ÇÅ = 0</ns0:text>
      <ns0:text x="0" y="1105.0" font-size="13" font-family="Arial, sans-serif" fill="#c62828">
        ‚àÇL/‚àÇz‚ÇÅ = 0.12 - 0 = +0.12
      </ns0:text>
      <ns0:text x="0" y="1130.0" font-size="10" fill="#1a237e">
        ‚Üí Decrease z‚ÇÅ (false positive)
      </ns0:text>
    </ns0:g>
    <ns0:g transform="translate(280, 50)">
      <ns0:text x="0" y="1155.0" font-size="13" font-weight="bold" fill="#2e7d32">Class 2 (True):</ns0:text>
      <ns0:text x="0" y="1180.0" font-size="12" fill="#1a237e">p‚ÇÇ = 0.85, y‚ÇÇ = 1</ns0:text>
      <ns0:text x="0" y="1205.0" font-size="13" font-family="Arial, sans-serif" fill="#2e7d32">
        ‚àÇL/‚àÇz‚ÇÇ = 0.85 - 1 = -0.15
      </ns0:text>
      <ns0:text x="0" y="1230.0" font-size="10" fill="#1a237e">
        ‚Üí Increase z‚ÇÇ (correct class)
      </ns0:text>
    </ns0:g>
    <ns0:g transform="translate(580, 50)">
      <ns0:text x="0" y="1255.0" font-size="13" font-weight="bold" fill="#1565c0">Class 3:</ns0:text>
      <ns0:text x="0" y="1280.0" font-size="12" fill="#1a237e">p‚ÇÉ = 0.04, y‚ÇÉ = 0</ns0:text>
      <ns0:text x="0" y="1305.0" font-size="13" font-family="Arial, sans-serif" fill="#1565c0">
        ‚àÇL/‚àÇz‚ÇÉ = 0.04 - 0 = +0.04
      </ns0:text>
      <ns0:text x="0" y="1330.0" font-size="10" fill="#1a237e">
        ‚Üí Decrease z‚ÇÉ (small error)
      </ns0:text>
    </ns0:g>
  </ns0:g>
  <ns0:rect x="50" y="630" width="800" height="50" fill="#e1f5fe" stroke="#007bff" stroke-width="2" rx="8"/>
  <ns0:text x="450" y="1355.0" font-size="13" font-weight="bold" text-anchor="middle" fill="#1a5276">
    üí° Why This Matters: No vanishing gradient! No saturation! Clean, proportional updates!
  </ns0:text>
  <ns0:text x="450" y="1380.0" font-size="11" text-anchor="middle" fill="#1a237e">
    This elegant property makes softmax + cross-entropy the standard for classification
  </ns0:text>
</ns0:svg>
