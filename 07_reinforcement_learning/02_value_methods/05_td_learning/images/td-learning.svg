<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1300">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fef2f2"/>
      <stop offset="100%" style="stop-color:#fee2e2"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-opacity="0.25"/>
    </filter>
  </defs>
  
  <rect width="1800" height="1300" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="900" y="70" text-anchor="middle" fill="#991b1b" font-family="Arial, sans-serif" font-size="52" font-weight="bold">Temporal Difference (TD) Learning</text>
  <text x="900" y="120" text-anchor="middle" fill="#dc2626" font-family="Arial, sans-serif" font-size="26">Learning value functions from incomplete episodes</text>
  
  <!-- TD Update Rule -->
  <g transform="translate(100, 180)" filter="url(#shadow)">
    <rect width="1600" height="240" rx="18" fill="#ffffff" stroke="#ef4444" stroke-width="4"/>
    <text x="800" y="50" text-anchor="middle" fill="#ef4444" font-family="Arial, sans-serif" font-size="36" font-weight="bold">üìê TD(0) Update Rule</text>
    <line x1="40" y1="70" x2="1560" y2="70" stroke="#fecaca" stroke-width="2"/>
    
    <g transform="translate(200, 120)">
      <rect x="0" y="0" width="1200" height="100" fill="#fee2e2" rx="14"/>
      <text x="600" y="60" text-anchor="middle" fill="#991b1b" font-family="Consolas, monospace" font-size="42" font-weight="bold">V(s‚Çú) ‚Üê V(s‚Çú) + Œ±[r‚Çú‚Çä‚ÇÅ + Œ≥V(s‚Çú‚Çä‚ÇÅ) - V(s‚Çú)]</text>
    </g>
  </g>
  
  <!-- Components Breakdown -->
  <g transform="translate(100, 470)" filter="url(#shadow)">
    <rect width="1600" height="480" rx="18" fill="#ffffff" stroke="#3b82f6" stroke-width="4"/>
    <text x="800" y="50" text-anchor="middle" fill="#3b82f6" font-family="Arial, sans-serif" font-size="36" font-weight="bold">üîç Components of TD Learning</text>
    <line x1="40" y1="70" x2="1560" y2="70" stroke="#bfdbfe" stroke-width="2"/>
    
    <g transform="translate(80, 110)">
      <!-- Current Value -->
      <rect width="700" height="100" fill="#eff6ff" rx="12"/>
      <text x="350" y="35" text-anchor="middle" fill="#3b82f6" font-family="Arial, sans-serif" font-size="26" font-weight="bold">V(s‚Çú) - Current Estimate</text>
      <text x="350" y="68" text-anchor="middle" fill="#1e40af" font-family="Arial, sans-serif" font-size="19">Current value estimate for state s‚Çú</text>
      <text x="350" y="94" text-anchor="middle" fill="#1e3a8a" font-family="Arial, sans-serif" font-size="18">This is what we're updating</text>
      
      <!-- Learning rate -->
      <g transform="translate(820, 0)">
        <rect width="700" height="100" fill="#fef3c7" rx="12"/>
        <text x="350" y="35" text-anchor="middle" fill="#f59e0b" font-family="Arial, sans-serif" font-size="26" font-weight="bold">Œ± - Learning Rate</text>
        <text x="350" y="68" text-anchor="middle" fill="#d97706" font-family="Arial, sans-serif" font-size="19">Step size (typically 0.01 - 0.5)</text>
        <text x="350" y="94" text-anchor="middle" fill="#92400e" font-family="Arial, sans-serif" font-size="18">Controls how fast we learn</text>
      </g>
      
      <!-- TD Target -->
      <g transform="translate(0, 120)">
        <rect width="700" height="110" fill="#dcfce7" rx="12"/>
        <text x="350" y="35" text-anchor="middle" fill="#10b981" font-family="Arial, sans-serif" font-size="26" font-weight="bold">TD Target: r‚Çú‚Çä‚ÇÅ + Œ≥V(s‚Çú‚Çä‚ÇÅ)</text>
        <text x="350" y="68" text-anchor="middle" fill="#059669" font-family="Arial, sans-serif" font-size="19">Immediate reward + discounted next value</text>
        <text x="350" y="94" text-anchor="middle" fill="#15803d" font-family="Arial, sans-serif" font-size="18" font-weight="bold">‚≠ê Bootstrap estimate</text>
        <text x="350" y="116" text-anchor="middle" fill="#065f46" font-family="Arial, sans-serif" font-size="17">(uses incomplete information)</text>
      </g>
      
      <!-- TD Error -->
      <g transform="translate(820, 120)">
        <rect width="700" height="110" fill="#fce7f3" rx="12"/>
        <text x="350" y="35" text-anchor="middle" fill="#ec4899" font-family="Arial, sans-serif" font-size="26" font-weight="bold">TD Error: Œ¥‚Çú</text>
        <rect x="100" y="50" width="500" height="50" fill="#fbcfe8" rx="10"/>
        <text x="350" y="85" text-anchor="middle" fill="#be185d" font-family="Consolas, monospace" font-size="24">Œ¥‚Çú = r‚Çú‚Çä‚ÇÅ + Œ≥V(s‚Çú‚Çä‚ÇÅ) - V(s‚Çú)</text>
        <text x="350" y="116" text-anchor="middle" fill="#db2777" font-family="Arial, sans-serif" font-size="18">Difference between target and current</text>
      </g>
      
      <!-- Comparison Row -->
      <g transform="translate(0, 250)">
        <rect width="1520" height="180" fill="#faf5ff" rx="12"/>
        <text x="760" y="35" text-anchor="middle" fill="#8b5cf6" font-family="Arial, sans-serif" font-size="28" font-weight="bold">üîÑ Comparison: TD vs MC vs DP</text>
        <line x1="30" y1="50" x2="1490" y2="50" stroke="#e9d5ff" stroke-width="2"/>
        
        <g transform="translate(50, 75)">
          <text x="0" y="0" fill="#7c3aed" font-family="Arial, sans-serif" font-size="22" font-weight="bold">Monte Carlo (MC):</text>
          <text x="20" y="30" fill="#6b21a8" font-family="Arial, sans-serif" font-size="18">‚Ä¢ Wait for complete episode  ‚Ä¢ No bootstrapping  ‚Ä¢ High variance</text>
          
          <text x="760" y="0" fill="#7c3aed" font-family="Arial, sans-serif" font-size="22" font-weight="bold">Dynamic Programming (DP):</text>
          <text x="780" y="30" fill="#6b21a8" font-family="Arial, sans-serif" font-size="18">‚Ä¢ Requires model  ‚Ä¢ Full backups  ‚Ä¢ Bootstraps</text>
          
          <text x="0" y="75" fill="#10b981" font-family="Arial, sans-serif" font-size="22" font-weight="bold">TD Learning:</text>
          <text x="20" y="105" fill="#059669" font-family="Arial, sans-serif" font-size="18">‚úì Model-free  ‚úì Online (no episode end needed)  ‚úì Bootstraps  ‚úì Lower variance than MC</text>
        </g>
      </g>
    </g>
  </g>
  
  <!-- TD Algorithm Steps -->
  <g transform="translate(100, 1000)" filter="url(#shadow)">
    <rect width="1600" height="220" rx="18" fill="#ffffff" stroke="#10b981" stroke-width="4"/>
    <text x="800" y="50" text-anchor="middle" fill="#10b981" font-family="Arial, sans-serif" font-size="32" font-weight="bold">üîÑ TD Learning Algorithm</text>
    <line x1="40" y1="70" x2="1560" y2="70" stroke="#d1fae5" stroke-width="2"/>
    
    <g transform="translate(100, 110)">
      <text x="0" y="0" fill="#059669" font-family="Arial, sans-serif" font-size="22">1. Initialize V(s) arbitrarily for all states</text>
      <text x="0" y="35" fill="#059669" font-family="Arial, sans-serif" font-size="22">2. For each episode:</text>
      <text x="40" y="65" fill="#15803d" font-family="Arial, sans-serif" font-size="20">‚Ä¢ Observe current state s‚Çú</text>
      <text x="40" y="95" fill="#15803d" font-family="Arial, sans-serif" font-size="20">‚Ä¢ Take action, observe r‚Çú‚Çä‚ÇÅ and s‚Çú‚Çä‚ÇÅ</text>
      <text x="40" y="125" fill="#15803d" font-family="Arial, sans-serif" font-size="20">‚Ä¢ Update: V(s‚Çú) ‚Üê V(s‚Çú) + Œ±[r‚Çú‚Çä‚ÇÅ + Œ≥V(s‚Çú‚Çä‚ÇÅ) - V(s‚Çú)]</text>
      
      <text x="900" y="0" fill="#059669" font-family="Arial, sans-serif" font-size="22">3. Repeat until convergence</text>
      <text x="900" y="40" fill="#10b981" font-family="Arial, sans-serif" font-size="20" font-weight="bold">‚≠ê Updates after every step</text>
      <text x="900" y="70" fill="#10b981" font-family="Arial, sans-serif" font-size="20" font-weight="bold">(not just at episode end)</text>
    </g>
  </g>
  
  <!-- Key Insight -->
  <rect x="100" y="1240" width="1600" height="60" fill="#ef4444" rx="14" filter="url(#shadow)"/>
  <text x="900" y="1277" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="24" font-weight="bold">üí° TD Learning: Bootstrap using current estimates ‚Ä¢ Learn online without waiting for episode end</text>
</svg>
