<?xml version="1.0" ?>
<ns0:svg xmlns:ns0="http://www.w3.org/2000/svg" viewBox="0.0 0.0 1800.0 1125.0">
  <ns0:defs>
    <ns0:linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <ns0:stop offset="0%" style="stop-color:#ffffff"/>
      <ns0:stop offset="100%" style="stop-color:#1a1a3e"/>
    </ns0:linearGradient>
    <ns0:linearGradient id="clipGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <ns0:stop offset="0%" style="stop-color:#007bff"/>
      <ns0:stop offset="100%" style="stop-color:#1e40af"/>
    </ns0:linearGradient>
    <ns0:linearGradient id="unclipGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <ns0:stop offset="0%" style="stop-color:#10b981"/>
      <ns0:stop offset="100%" style="stop-color:#047857"/>
    </ns0:linearGradient>
  </ns0:defs>
  <ns0:rect width="1800.0" height="1125.0" fill="#f8f9fa" rx="8"/>
  <ns0:text x="400" y="35" text-anchor="middle" fill="#1a237e" font-size="22" font-weight="bold" font-family="Arial, sans-serif">PPO Clipped Objective</ns0:text>
  <ns0:text x="400" y="60" text-anchor="middle" fill="#a5b4fc" font-size="14" font-family="Arial, sans-serif">L(θ) = min(r(θ)A, clip(r(θ), 1-ε, 1+ε)A)</ns0:text>
  <ns0:g transform="translate(80, 100)">
    <ns0:text x="130" y="85.0" text-anchor="middle" fill="#e65100" font-size="16" font-weight="bold">When A &gt; 0 (good action)</ns0:text>
    <ns0:line x1="30" y1="280" x2="280" y2="280" stroke="#6366f1" stroke-width="2"/>
    <ns0:line x1="30" y1="280" x2="30" y2="30" stroke="#6366f1" stroke-width="2"/>
    <ns0:text x="155" y="310" text-anchor="middle" fill="#a5b4fc" font-size="12">r(θ) = π(a|s)/π_old(a|s)</ns0:text>
    <ns0:text x="10" y="335.0" text-anchor="middle" fill="#a5b4fc" font-size="12" transform="rotate(-90, 10, 155)">Objective</ns0:text>
    <ns0:text x="30" y="360.0" text-anchor="middle" fill="#1a237e" font-size="10">0</ns0:text>
    <ns0:text x="105" y="385.0" text-anchor="middle" fill="#1a237e" font-size="10">1-ε</ns0:text>
    <ns0:text x="155" y="410.0" text-anchor="middle" fill="#1a237e" font-size="10">1</ns0:text>
    <ns0:text x="205" y="435.0" text-anchor="middle" fill="#1a237e" font-size="10">1+ε</ns0:text>
    <ns0:text x="270" y="460.0" text-anchor="middle" fill="#1a237e" font-size="10">2</ns0:text>
    <ns0:rect x="105" y="50" width="100" height="230" fill="#2d2d2d20" stroke="#007bff" stroke-dasharray="5,5" rx="8"/>
    <ns0:path d="M 30 280 L 155 155 L 280 30" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
    <ns0:path d="M 30 280 L 105 200 L 205 200 L 205 200" stroke="#e67e22" stroke-width="3" fill="none"/>
    <ns0:line x1="205" y1="200" x2="280" y2="200" stroke="#e67e22" stroke-width="3" stroke-dasharray="3,3"/>
    <ns0:circle cx="240" cy="50" r="5" fill="#10b981"/>
    <ns0:text x="255" y="485.0" fill="#10b981" font-size="11">Unclipped</ns0:text>
    <ns0:circle cx="240" cy="75" r="5" fill="#e67e22"/>
    <ns0:text x="255" y="510.0" fill="#e67e22" font-size="11">Clipped</ns0:text>
    <ns0:text x="155" y="535.0" text-anchor="middle" fill="#e65100" font-size="11">Prevents too much policy change</ns0:text>
  </ns0:g>
  <ns0:g transform="translate(430, 100)">
    <ns0:text x="130" y="560.0" text-anchor="middle" fill="#c62828" font-size="16" font-weight="bold">When A &lt; 0 (bad action)</ns0:text>
    <ns0:line x1="30" y1="280" x2="280" y2="280" stroke="#6366f1" stroke-width="2"/>
    <ns0:line x1="30" y1="280" x2="30" y2="30" stroke="#6366f1" stroke-width="2"/>
    <ns0:text x="155" y="585.0" text-anchor="middle" fill="#a5b4fc" font-size="12">r(θ) = π(a|s)/π_old(a|s)</ns0:text>
    <ns0:text x="30" y="610.0" text-anchor="middle" fill="#1a237e" font-size="10">0</ns0:text>
    <ns0:text x="105" y="635.0" text-anchor="middle" fill="#1a237e" font-size="10">1-ε</ns0:text>
    <ns0:text x="155" y="660.0" text-anchor="middle" fill="#1a237e" font-size="10">1</ns0:text>
    <ns0:text x="205" y="685.0" text-anchor="middle" fill="#1a237e" font-size="10">1+ε</ns0:text>
    <ns0:text x="270" y="710.0" text-anchor="middle" fill="#1a237e" font-size="10">2</ns0:text>
    <ns0:rect x="105" y="50" width="100" height="230" fill="#2d2d2d20" stroke="#dc3545" stroke-dasharray="5,5" rx="8"/>
    <ns0:path d="M 30 30 L 155 155 L 280 280" stroke="#10b981" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
    <ns0:path d="M 30 30 L 30 30" stroke="#e67e22" stroke-width="3" fill="none"/>
    <ns0:line x1="30" y1="110" x2="105" y2="110" stroke="#e67e22" stroke-width="3" stroke-dasharray="3,3"/>
    <ns0:path d="M 105 110 L 205 210 L 280 280" stroke="#e67e22" stroke-width="3" fill="none"/>
    <ns0:text x="155" y="735.0" text-anchor="middle" fill="#c62828" font-size="11">Prevents undoing bad action too quickly</ns0:text>
  </ns0:g>
  <ns0:rect x="50" y="445" width="700" height="45" rx="8" fill="#1a237e" stroke="#e0e0e0"/>
  <ns0:text x="400" y="760.0" text-anchor="middle" fill="#1a237e" font-size="14" font-family="Arial, sans-serif">
    <ns0:tspan font-weight="bold" fill="#e65100">Key insight:</ns0:tspan>
     Clipping prevents destructive policy updates while allowing beneficial ones
  </ns0:text>
</ns0:svg>