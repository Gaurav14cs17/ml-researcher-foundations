<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1100">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ecfeff"/>
      <stop offset="100%" style="stop-color:#cffafe"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-opacity="0.25"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#0891b2"/>
    </marker>
  </defs>
  
  <rect width="1800" height="1100" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="900" y="70" text-anchor="middle" fill="#164e63" font-family="Arial, sans-serif" font-size="52" font-weight="bold">LoRA (Low-Rank Adaptation)</text>
  <text x="900" y="120" text-anchor="middle" fill="#0e7490" font-family="Arial, sans-serif" font-size="26">Efficient fine-tuning by learning low-rank decomposition</text>
  
  <!-- Standard Fine-tuning vs LoRA -->
  <g transform="translate(100, 180)" filter="url(#shadow)">
    <rect width="750" height="420" rx="18" fill="#ffffff" stroke="#ef4444" stroke-width="4"/>
    <text x="375" y="50" text-anchor="middle" fill="#ef4444" font-family="Arial, sans-serif" font-size="32" font-weight="bold">âŒ Standard Fine-tuning</text>
    <line x1="40" y1="70" x2="710" y2="70" stroke="#fecaca" stroke-width="2"/>
    
    <g transform="translate(150, 130)">
      <!-- Original Weight Matrix -->
      <rect x="0" y="0" width="180" height="180" fill="#fee2e2" stroke="#dc2626" stroke-width="3" rx="10"/>
      <text x="90" y="100" text-anchor="middle" fill="#991b1b" font-family="Arial, sans-serif" font-size="28" font-weight="bold">W</text>
      <text x="90" y="-15" text-anchor="middle" fill="#dc2626" font-family="Arial, sans-serif" font-size="18">dÃ—k (e.g. 4096Ã—4096)</text>
      
      <!-- Arrow -->
      <text x="240" y="100" text-anchor="middle" fill="#ef4444" font-family="Arial, sans-serif" font-size="40">â†’</text>
      
      <!-- Updated Weight Matrix -->
      <rect x="280" y="0" width="180" height="180" fill="#fca5a5" stroke="#dc2626" stroke-width="3" rx="10"/>
      <text x="370" y="100" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="28" font-weight="bold">W'</text>
      <text x="370" y="-15" text-anchor="middle" fill="#dc2626" font-family="Arial, sans-serif" font-size="18">ALL parameters updated</text>
    </g>
    
    <g transform="translate(80, 340)">
      <text x="0" y="0" fill="#dc2626" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Problems:</text>
      <text x="20" y="28" fill="#991b1b" font-family="Arial, sans-serif" font-size="18">â€¢ Update ALL dÃ—k parameters</text>
      <text x="20" y="54" fill="#991b1b" font-family="Arial, sans-serif" font-size="18">â€¢ High memory requirements</text>
      <text x="20" y="80" fill="#991b1b" font-family="Arial, sans-serif" font-size="18">â€¢ Slow training</text>
    </g>
  </g>
  
  <!-- LoRA Approach -->
  <g transform="translate(900, 180)" filter="url(#shadow)">
    <rect width="800" height="420" rx="18" fill="#ffffff" stroke="#10b981" stroke-width="4"/>
    <text x="400" y="50" text-anchor="middle" fill="#10b981" font-family="Arial, sans-serif" font-size="32" font-weight="bold">âœ“ LoRA Approach</text>
    <line x1="40" y1="70" x2="760" y2="70" stroke="#d1fae5" stroke-width="2"/>
    
    <g transform="translate(130, 120)">
      <!-- Original Weight Matrix (frozen) -->
      <rect x="0" y="0" width="140" height="140" fill="#e0e7ff" stroke="#6366f1" stroke-width="3" rx="10"/>
      <text x="70" y="75" text-anchor="middle" fill="#4338ca" font-family="Arial, sans-serif" font-size="26" font-weight="bold">W</text>
      <text x="70" y="-15" text-anchor="middle" fill="#4338ca" font-family="Arial, sans-serif" font-size="16">Frozen (dÃ—k)</text>
      <text x="70" y="165" text-anchor="middle" fill="#4338ca" font-family="Arial, sans-serif" font-size="14">â„ï¸ Not updated</text>
      
      <text x="190" y="75" text-anchor="middle" fill="#10b981" font-family="Arial, sans-serif" font-size="36" font-weight="bold">+</text>
      
      <!-- Low-rank decomposition -->
      <g transform="translate(230, 0)">
        <!-- B matrix (tall) -->
        <rect x="0" y="20" width="60" height="140" fill="#bbf7d0" stroke="#059669" stroke-width="3" rx="8"/>
        <text x="30" y="95" text-anchor="middle" fill="#065f46" font-family="Arial, sans-serif" font-size="22" font-weight="bold">B</text>
        <text x="30" y="-5" text-anchor="middle" fill="#059669" font-family="Arial, sans-serif" font-size="14">dÃ—r</text>
        
        <!-- Multiply symbol -->
        <text x="90" y="95" text-anchor="middle" fill="#10b981" font-family="Arial, sans-serif" font-size="30">Ã—</text>
        
        <!-- A matrix (wide) -->
        <rect x="120" y="50" width="140" height="60" fill="#86efac" stroke="#059669" stroke-width="3" rx="8"/>
        <text x="190" y="88" text-anchor="middle" fill="#065f46" font-family="Arial, sans-serif" font-size="22" font-weight="bold">A</text>
        <text x="190" y="130" text-anchor="middle" fill="#059669" font-family="Arial, sans-serif" font-size="14">rÃ—k</text>
        
        <!-- Rank indicator -->
        <rect x="30" y="175" width="200" height="35" fill="#fef3c7" rx="8"/>
        <text x="130" y="199" text-anchor="middle" fill="#78350f" font-family="Arial, sans-serif" font-size="17" font-weight="bold">r â‰ª min(d, k)</text>
      </g>
    </g>
    
    <g transform="translate(80, 340)">
      <text x="0" y="0" fill="#059669" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Benefits:</text>
      <text x="20" y="28" fill="#15803d" font-family="Arial, sans-serif" font-size="18">âœ“ Train only (dÃ—r + rÃ—k) parameters</text>
      <text x="20" y="54" fill="#15803d" font-family="Arial, sans-serif" font-size="18">âœ“ 10,000Ã— fewer parameters! (e.g., r=8)</text>
      <text x="20" y="80" fill="#15803d" font-family="Arial, sans-serif" font-size="18">âœ“ Fast training, low memory</text>
    </g>
  </g>
  
  <!-- Mathematical Formula -->
  <g transform="translate(100, 650)" filter="url(#shadow)">
    <rect width="750" height="380" rx="18" fill="#ffffff" stroke="#3b82f6" stroke-width="4"/>
    <text x="375" y="50" text-anchor="middle" fill="#3b82f6" font-family="Arial, sans-serif" font-size="32" font-weight="bold">ğŸ“ Mathematics</text>
    <line x1="40" y1="70" x2="710" y2="70" stroke="#bfdbfe" stroke-width="2"/>
    
    <g transform="translate(50, 110)">
      <text x="325" y="0" text-anchor="middle" fill="#1e3a8a" font-family="Arial, sans-serif" font-size="24" font-weight="bold">Forward Pass:</text>
      <rect x="80" y="15" width="490" height="60" fill="#eff6ff" rx="12"/>
      <text x="325" y="55" text-anchor="middle" fill="#1e40af" font-family="Consolas, monospace" font-size="26">h = Wâ‚€x + Î”Wx = Wâ‚€x + BAx</text>
      
      <text x="325" y="110" text-anchor="middle" fill="#1e3a8a" font-family="Arial, sans-serif" font-size="20">where Î”W = BA (the adaptation)</text>
      
      <text x="325" y="160" text-anchor="middle" fill="#1e3a8a" font-family="Arial, sans-serif" font-size="24" font-weight="bold">Parameter Count:</text>
      <rect x="80" y="175" width="490" height="105" fill="#fef3c7" rx="12"/>
      <text x="325" y="210" text-anchor="middle" fill="#78350f" font-family="Arial, sans-serif" font-size="20">Standard: d Ã— k parameters</text>
      <text x="325" y="240" text-anchor="middle" fill="#059669" font-family="Arial, sans-serif" font-size="20" font-weight="bold">LoRA: d Ã— r + r Ã— k parameters</text>
      <text x="325" y="270" text-anchor="middle" fill="#dc2626" font-family="Arial, sans-serif" font-size="18">Reduction: ~10,000Ã— when r=8, d=k=4096</text>
    </g>
  </g>
  
  <!-- Use Cases -->
  <g transform="translate(900, 650)" filter="url(#shadow)">
    <rect width="800" height="380" rx="18" fill="#ffffff" stroke="#8b5cf6" stroke-width="4"/>
    <text x="400" y="50" text-anchor="middle" fill="#8b5cf6" font-family="Arial, sans-serif" font-size="32" font-weight="bold">ğŸ¯ Applications</text>
    <line x1="40" y1="70" x2="760" y2="70" stroke="#e9d5ff" stroke-width="2"/>
    
    <g transform="translate(60, 110)">
      <text x="0" y="0" fill="#7c3aed" font-family="Arial, sans-serif" font-size="24" font-weight="bold">1. LLM Fine-tuning:</text>
      <text x="20" y="32" fill="#6b21a8" font-family="Arial, sans-serif" font-size="19">â€¢ Adapt GPT, LLaMA for specific tasks</text>
      <text x="20" y="60" fill="#6b21a8" font-family="Arial, sans-serif" font-size="19">â€¢ Multiple task-specific LoRA adapters</text>
      
      <text x="0" y="110" fill="#7c3aed" font-family="Arial, sans-serif" font-size="24" font-weight="bold">2. Diffusion Models:</text>
      <text x="20" y="142" fill="#6b21a8" font-family="Arial, sans-serif" font-size="19">â€¢ Style adaptation for Stable Diffusion</text>
      <text x="20" y="170" fill="#6b21a8" font-family="Arial, sans-serif" font-size="19">â€¢ Character-consistent generation</text>
      
      <text x="0" y="220" fill="#7c3aed" font-family="Arial, sans-serif" font-size="24" font-weight="bold">3. Multi-task Learning:</text>
      <text x="20" y="252" fill="#6b21a8" font-family="Arial, sans-serif" font-size="19">â€¢ Share base model, swap LoRA adapters</text>
      <text x="20" y="280" fill="#6b21a8" font-family="Arial, sans-serif" font-size="19">â€¢ Minimal storage per task</text>
    </g>
  </g>
  
  <!-- Key Insight -->
  <rect x="100" y="1050" width="1600" height="60" fill="#0891b2" rx="14" filter="url(#shadow)"/>
  <text x="900" y="1087" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="24" font-weight="bold">ğŸ’¡ Key Insight: Hypothesis that weight updates during fine-tuning have low intrinsic rank</text>
</svg>
