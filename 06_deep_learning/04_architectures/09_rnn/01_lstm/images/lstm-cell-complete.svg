<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1200">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0fdfa"/>
      <stop offset="100%" style="stop-color:#ccfbf1"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-opacity="0.25"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#0f766e"/>
    </marker>
  </defs>
  
  <rect width="1800" height="1200" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="900" y="70" text-anchor="middle" fill="#134e4a" font-family="Arial, sans-serif" font-size="52" font-weight="bold">LSTM Cell Architecture</text>
  <text x="900" y="120" text-anchor="middle" fill="#0f766e" font-family="Arial, sans-serif" font-size="26">Long Short-Term Memory - Solving the vanishing gradient problem</text>
  
  <!-- Main LSTM Diagram -->
  <g transform="translate(100, 170)" filter="url(#shadow)">
    <rect width="1600" height="720" rx="18" fill="#ffffff" stroke="#14b8a6" stroke-width="4"/>
    <text x="800" y="50" text-anchor="middle" fill="#14b8a6" font-family="Arial, sans-serif" font-size="36" font-weight="bold">LSTM Cell Internal Structure</text>
    <line x1="40" y1="70" x2="1560" y2="70" stroke="#99f6e4" stroke-width="2"/>
    
    <g transform="translate(100, 130)">
      <!-- Cell State Line (horizontal) -->
      <line x1="0" y1="150" x2="1400" y2="150" stroke="#0f766e" stroke-width="6"/>
      <text x="-50" y="155" text-anchor="end" fill="#0f766e" font-family="Arial, sans-serif" font-size="20" font-weight="bold">C_{t-1}</text>
      <text x="1450" y="155" text-anchor="start" fill="#0f766e" font-family="Arial, sans-serif" font-size="20" font-weight="bold">C_t</text>
      
      <!-- Forget Gate -->
      <g transform="translate(200, 60)">
        <rect width="180" height="120" rx="15" fill="#fef3c7" stroke="#f59e0b" stroke-width="3"/>
        <text x="90" y="40" text-anchor="middle" fill="#d97706" font-family="Arial, sans-serif" font-size="22" font-weight="bold">Forget Gate</text>
        <text x="90" y="70" text-anchor="middle" fill="#78350f" font-family="Consolas, monospace" font-size="20">Ïƒ</text>
        <text x="90" y="100" text-anchor="middle" fill="#92400e" font-family="Arial, sans-serif" font-size="16">f_t = Ïƒ(W_fÂ·[h_{t-1}, x_t])</text>
        
        <!-- Multiply operation -->
        <circle cx="90" cy="240" r="25" fill="#f59e0b" stroke="#d97706" stroke-width="3"/>
        <text x="90" y="250" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="28" font-weight="bold">Ã—</text>
        
        <!-- Arrow from gate to multiply -->
        <line x1="90" y1="180" x2="90" y2="215" stroke="#f59e0b" stroke-width="4" marker-end="url(#arrow)"/>
      </g>
      
      <!-- Input Gate -->
      <g transform="translate(600, 60)">
        <rect width="180" height="120" rx="15" fill="#dbeafe" stroke="#3b82f6" stroke-width="3"/>
        <text x="90" y="40" text-anchor="middle" fill="#1e40af" font-family="Arial, sans-serif" font-size="22" font-weight="bold">Input Gate</text>
        <text x="90" y="70" text-anchor="middle" fill="#1e3a8a" font-family="Consolas, monospace" font-size="20">Ïƒ</text>
        <text x="90" y="100" text-anchor="middle" fill="#1e40af" font-family="Arial, sans-serif" font-size="16">i_t = Ïƒ(W_iÂ·[h_{t-1}, x_t])</text>
        
        <!-- Multiply operation -->
        <circle cx="90" cy="240" r="25" fill="#3b82f6" stroke="#1e40af" stroke-width="3"/>
        <text x="90" y="250" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="28" font-weight="bold">Ã—</text>
        
        <!-- Arrow from gate to multiply -->
        <line x1="90" y1="180" x2="90" y2="215" stroke="#3b82f6" stroke-width="4" marker-end="url(#arrow)"/>
      </g>
      
      <!-- Candidate Cell State -->
      <g transform="translate(470, 300)">
        <rect width="180" height="100" rx="15" fill="#f3e8ff" stroke="#8b5cf6" stroke-width="3"/>
        <text x="90" y="35" text-anchor="middle" fill="#7c3aed" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Candidate</text>
        <text x="90" y="60" text-anchor="middle" fill="#6b21a8" font-family="Consolas, monospace" font-size="20">tanh</text>
        <text x="90" y="88" text-anchor="middle" fill="#7c3aed" font-family="Arial, sans-serif" font-size="15">CÌƒ_t = tanh(W_CÂ·[h_{t-1}, x_t])</text>
      </g>
      
      <!-- Addition operation -->
      <circle cx="830" cy="150" r="30" fill="#10b981" stroke="#059669" stroke-width="3"/>
      <text x="830" y="160" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="32" font-weight="bold">+</text>
      
      <!-- Output Gate -->
      <g transform="translate(1050, 60)">
        <rect width="180" height="120" rx="15" fill="#fce7f3" stroke="#ec4899" stroke-width="3"/>
        <text x="90" y="40" text-anchor="middle" fill="#db2777" font-family="Arial, sans-serif" font-size="22" font-weight="bold">Output Gate</text>
        <text x="90" y="70" text-anchor="middle" fill="#be185d" font-family="Consolas, monospace" font-size="20">Ïƒ</text>
        <text x="90" y="100" text-anchor="middle" fill="#db2777" font-family="Arial, sans-serif" font-size="16">o_t = Ïƒ(W_oÂ·[h_{t-1}, x_t])</text>
        
        <!-- Multiply operation -->
        <circle cx="90" cy="240" r="25" fill="#ec4899" stroke="#db2777" stroke-width="3"/>
        <text x="90" y="250" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="28" font-weight="bold">Ã—</text>
        
        <!-- Arrow from gate to multiply -->
        <line x1="90" y1="180" x2="90" y2="215" stroke="#ec4899" stroke-width="4" marker-end="url(#arrow)"/>
      </g>
      
      <!-- tanh for output -->
      <g transform="translate(1050, 280)">
        <rect width="90" height="70" rx="12" fill="#e0f2fe" stroke="#0284c7" stroke-width="3"/>
        <text x="45" y="45" text-anchor="middle" fill="#0369a1" font-family="Consolas, monospace" font-size="22" font-weight="bold">tanh</text>
      </g>
      
      <!-- Input/Output arrows -->
      <text x="400" y="520" text-anchor="middle" fill="#0f766e" font-family="Arial, sans-serif" font-size="20" font-weight="bold">x_t (input)</text>
      <line x1="400" y1="500" x2="400" y2="60" stroke="#0f766e" stroke-width="4" marker-end="url(#arrow)"/>
      
      <text x="900" y="520" text-anchor="middle" fill="#0f766e" font-family="Arial, sans-serif" font-size="20" font-weight="bold">h_t (output)</text>
      <line x1="1140" y1="300" x2="900" y2="490" stroke="#0f766e" stroke-width="4" marker-end="url(#arrow)"/>
      
      <text x="10" y="520" text-anchor="start" fill="#64748b" font-family="Arial, sans-serif" font-size="18">h_{t-1}</text>
      <line x1="50" y1="500" x2="290" y2="120" stroke="#64748b" stroke-width="3" stroke-dasharray="6,4" marker-end="url(#arrow)"/>
    </g>
  </g>
  
  <!-- Gate Functions Explanation -->
  <g transform="translate(100, 950)" filter="url(#shadow)">
    <rect width="1600" height="200" rx="18" fill="#ffffff" stroke="#14b8a6" stroke-width="4"/>
    <text x="800" y="50" text-anchor="middle" fill="#14b8a6" font-family="Arial, sans-serif" font-size="32" font-weight="bold">ðŸ”‘ Gate Functions</text>
    <line x1="40" y1="70" x2="1560" y2="70" stroke="#99f6e4" stroke-width="2"/>
    
    <g transform="translate(80, 110)">
      <text x="0" y="0" fill="#f59e0b" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Forget Gate (f_t):</text>
      <text x="20" y="28" fill="#92400e" font-family="Arial, sans-serif" font-size="18">Decides what to discard from cell state</text>
      
      <text x="420" y="0" fill="#3b82f6" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Input Gate (i_t):</text>
      <text x="440" y="28" fill="#1e40af" font-family="Arial, sans-serif" font-size="18">Decides what new information to store</text>
      
      <text x="820" y="0" fill="#8b5cf6" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Candidate (CÌƒ_t):</text>
      <text x="840" y="28" fill="#7c3aed" font-family="Arial, sans-serif" font-size="18">New candidate values to add</text>
      
      <text x="1200" y="0" fill="#ec4899" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Output Gate (o_t):</text>
      <text x="1220" y="28" fill="#db2777" font-family="Arial, sans-serif" font-size="18">Decides what to output</text>
      
      <rect x="0" y="50" width="1440" height="50" fill="#f0fdfa" rx="10"/>
      <text x="720" y="82" text-anchor="middle" fill="#0f766e" font-family="Arial, sans-serif" font-size="19" font-weight="bold">Cell State Update: C_t = f_t âŠ™ C_{t-1} + i_t âŠ™ CÌƒ_t  â€¢  Hidden State: h_t = o_t âŠ™ tanh(C_t)</text>
    </g>
  </g>
  
  <!-- Key Advantage -->
  <rect x="100" y="1170" width="1600" height="60" fill="#14b8a6" rx="14" filter="url(#shadow)"/>
  <text x="900" y="1207" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="24" font-weight="bold">ðŸ’¡ Key Advantage: Gates control information flow, preventing vanishing gradients in long sequences</text>
</svg>
