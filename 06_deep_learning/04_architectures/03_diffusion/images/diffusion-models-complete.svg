<?xml version="1.0" ?>
<ns0:svg xmlns:ns0="http://www.w3.org/2000/svg" viewBox="0.0 0.0 2475.0 2025.0">
  <ns0:defs>
    <ns0:marker id="arrowGreen3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <ns0:path d="M0,0 L0,6 L9,3 z" fill="#2e7d32"/>
    </ns0:marker>
    <ns0:marker id="arrowPurple2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <ns0:path d="M0,0 L0,6 L9,3 z" fill="#6a1b9a"/>
    </ns0:marker>
  </ns0:defs>
  <ns0:text x="550" y="30" font-size="22" font-weight="bold" text-anchor="middle" fill="#1a237e">
    Diffusion Models: State-of-the-Art Image Generation
  </ns0:text>
  <ns0:g transform="translate(50, 80)">
    <ns0:text x="500" y="55.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#1565c0">
      1. What are Diffusion Models?
    </ns0:text>
    <ns0:rect x="0" y="20" width="2250.0" height="270.0" fill="#f8f9fa" stroke="#007bff" stroke-width="3" rx="8"/>
    <ns0:g transform="translate(30, 50)">
      <ns0:text x="0" y="80.0" font-size="14" fill="#1a237e">
        <ns0:tspan font-weight="bold" fill="#1565c0">Core Idea:</ns0:tspan>
        Learn to reverse a gradual noising process to generate high-quality images
      </ns0:text>
      <ns0:g transform="translate(0, 30)">
        <ns0:text x="0" y="105.0" font-size="13" fill="#1a237e">
          <ns0:tspan font-weight="bold" fill="#2e7d32">Forward Process (Fixed):</ns0:tspan>
          Gradually add Gaussian noise to image over T steps → Pure noise
        </ns0:text>
        <ns0:text x="0" y="130.0" font-size="13" fill="#1a237e">
          <ns0:tspan font-weight="bold" fill="#6a1b9a">Reverse Process (Learned):</ns0:tspan>
          Neural network learns to denoise step-by-step → Generate image from noise
        </ns0:text>
        <ns0:text x="0" y="155.0" font-size="12" fill="#1a237e">
          SOTA for image generation: DALL-E 2, Stable Diffusion, Midjourney, Imagen
        </ns0:text>
      </ns0:g>
    </ns0:g>
  </ns0:g>
  <ns0:g transform="translate(50, 240)">
    <ns0:text x="500" y="180.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#2e7d32">
      2. Forward Diffusion Process (Add Noise)
    </ns0:text>
    <ns0:rect x="0" y="20" width="2250.0" height="200" fill="#1a237e" stroke="#28a745" stroke-width="3" rx="8"/>
    <ns0:g transform="translate(50, 60)">
      <ns0:g>
        <ns0:rect x="0" y="0" width="80" height="80" fill="#1565c0" opacity="0.9" stroke="#007bff" stroke-width="2" rx="3"/>
        <ns0:circle cx="40" cy="35" r="15" fill="#e65100"/>
        <ns0:rect x="25" y="50" width="30" height="25" fill="#c62828"/>
        <ns0:text x="40" y="205.0" font-size="10" font-weight="bold" text-anchor="middle" fill="#1a237e">
          x₀ (Clean)
        </ns0:text>
      </ns0:g>
      <ns0:path d="M 90,40 L 140,40" stroke="#28a745" stroke-width="3" marker-end="url(#arrowGreen3)"/>
      <ns0:text x="115" y="230.0" font-size="9" fill="#2e7d32" font-weight="bold">+noise</ns0:text>
      <ns0:g transform="translate(150, 0)">
        <ns0:rect x="0" y="0" width="80" height="80" fill="#1565c0" opacity="0.8" stroke="#007bff" stroke-width="2" rx="3"/>
        <ns0:circle cx="40" cy="35" r="15" fill="#e65100" opacity="0.8"/>
        <ns0:rect x="25" y="50" width="30" height="25" fill="#c62828" opacity="0.8"/>
        <ns0:circle cx="15" cy="15" r="2" fill="#1a237e"/>
        <ns0:circle cx="60" cy="25" r="2" fill="#1a237e"/>
        <ns0:text x="40" y="255.0" font-size="10" font-weight="bold" text-anchor="middle" fill="#1a237e">
          x₁
        </ns0:text>
      </ns0:g>
      <ns0:path d="M 240,40 L 290,40" stroke="#28a745" stroke-width="3" marker-end="url(#arrowGreen3)"/>
      <ns0:text x="265" y="280.0" font-size="9" fill="#2e7d32" font-weight="bold">+noise</ns0:text>
      <ns0:g transform="translate(300, 0)">
        <ns0:rect x="0" y="0" width="80" height="80" fill="#1565c0" opacity="0.6" stroke="#007bff" stroke-width="2" rx="3"/>
        <ns0:circle cx="40" cy="35" r="15" fill="#e65100" opacity="0.6"/>
        <ns0:rect x="25" y="50" width="30" height="25" fill="#c62828" opacity="0.6"/>
        <ns0:circle cx="20" cy="20" r="2" fill="#1a237e"/>
        <ns0:circle cx="50" cy="30" r="2" fill="#1a237e"/>
        <ns0:circle cx="30" cy="60" r="2" fill="#1a237e"/>
        <ns0:circle cx="65" cy="70" r="2" fill="#1a237e"/>
        <ns0:text x="40" y="305.0" font-size="10" font-weight="bold" text-anchor="middle" fill="#1a237e">
          x₂
        </ns0:text>
      </ns0:g>
      <ns0:text x="415" y="330.0" font-size="20" font-weight="bold" fill="#1a237e">...</ns0:text>
      <ns0:g transform="translate(460, 0)">
        <ns0:rect x="0" y="0" width="80" height="80" fill="#1a237e" stroke="#e0e0e0" stroke-width="2" rx="3"/>
        <ns0:g opacity="0.7">
          <ns0:circle cx="15" cy="15" r="2" fill="#1a237e"/>
          <ns0:circle cx="30" cy="10" r="2" fill="#1a237e"/>
          <ns0:circle cx="45" cy="20" r="2" fill="#1a237e"/>
          <ns0:circle cx="60" cy="15" r="2" fill="#1a237e"/>
          <ns0:circle cx="20" cy="35" r="2" fill="#1a237e"/>
          <ns0:circle cx="50" cy="40" r="2" fill="#1a237e"/>
          <ns0:circle cx="25" cy="55" r="2" fill="#1a237e"/>
          <ns0:circle cx="55" cy="60" r="2" fill="#1a237e"/>
          <ns0:circle cx="35" cy="70" r="2" fill="#1a237e"/>
          <ns0:circle cx="65" cy="70" r="2" fill="#1a237e"/>
        </ns0:g>
        <ns0:text x="40" y="355.0" font-size="10" font-weight="bold" text-anchor="middle" fill="#1a237e">
          x_T (Noise)
        </ns0:text>
      </ns0:g>
      <ns0:g transform="translate(0, 130)">
        <ns0:text x="0" y="380.0" font-size="12" font-family="Arial, sans-serif" fill="#2e7d32">
          q(x_t | x_{t-1}) = N(x_t; √(1-βₜ) x_{t-1}, βₜI)     // βₜ = noise schedule
        </ns0:text>
      </ns0:g>
    </ns0:g>
  </ns0:g>
  <ns0:g transform="translate(50, 480)">
    <ns0:text x="500" y="405.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#6a1b9a">
      3. Reverse Diffusion Process (Denoise - Learned!)
    </ns0:text>
    <ns0:rect x="0" y="20" width="2250.0" height="200" fill="#1a237e" stroke="#6f42c1" stroke-width="3" rx="8"/>
    <ns0:g transform="translate(50, 60)">
      <ns0:g>
        <ns0:rect x="0" y="0" width="80" height="80" fill="#1a237e" stroke="#e0e0e0" stroke-width="2" rx="3"/>
        <ns0:g opacity="0.7">
          <ns0:circle cx="15" cy="15" r="2" fill="#1a237e"/>
          <ns0:circle cx="30" cy="10" r="2" fill="#1a237e"/>
          <ns0:circle cx="45" cy="20" r="2" fill="#1a237e"/>
          <ns0:circle cx="60" cy="15" r="2" fill="#1a237e"/>
          <ns0:circle cx="20" cy="35" r="2" fill="#1a237e"/>
          <ns0:circle cx="50" cy="40" r="2" fill="#1a237e"/>
        </ns0:g>
        <ns0:text x="40" y="430.0" font-size="10" font-weight="bold" text-anchor="middle" fill="#1a237e">
          x_T (Start)
        </ns0:text>
      </ns0:g>
      <ns0:g transform="translate(90, 30)">
        <ns0:path d="M 0,10 L 50,10" stroke="#6f42c1" stroke-width="3" marker-end="url(#arrowPurple2)"/>
        <ns0:rect x="10" y="-10" width="30" height="20" fill="#6a1b9a" opacity="0.7" stroke="#6f42c1" stroke-width="1" rx="2"/>
        <ns0:text x="25" y="455.0" font-size="8" font-weight="bold" text-anchor="middle" fill="#1a237e">NN</ns0:text>
        <ns0:text x="25" y="480.0" font-size="9" fill="#6a1b9a" font-weight="bold">predict</ns0:text>
        <ns0:text x="25" y="505.0" font-size="9" fill="#6a1b9a" font-weight="bold">noise</ns0:text>
      </ns0:g>
      <ns0:g transform="translate(150, 0)">
        <ns0:rect x="0" y="0" width="80" height="80" fill="#1565c0" opacity="0.6" stroke="#007bff" stroke-width="2" rx="3"/>
        <ns0:circle cx="40" cy="35" r="15" fill="#e65100" opacity="0.5"/>
        <ns0:text x="40" y="530.0" font-size="10" font-weight="bold" text-anchor="middle" fill="#1a237e">
          x_{T-1}
        </ns0:text>
      </ns0:g>
      <ns0:path d="M 240,40 L 290,40" stroke="#6f42c1" stroke-width="3" marker-end="url(#arrowPurple2)"/>
      <ns0:text x="315" y="555.0" font-size="20" font-weight="bold" fill="#1a237e">...</ns0:text>
      <ns0:g transform="translate(360, 0)">
        <ns0:rect x="0" y="0" width="80" height="80" fill="#1565c0" opacity="0.9" stroke="#007bff" stroke-width="3" rx="3"/>
        <ns0:circle cx="40" cy="35" r="15" fill="#e65100"/>
        <ns0:rect x="25" y="50" width="30" height="25" fill="#c62828"/>
        <ns0:text x="40" y="580.0" font-size="10" font-weight="bold" text-anchor="middle" fill="#2e7d32">
          x₀ (Generated!)
        </ns0:text>
      </ns0:g>
      <ns0:g transform="translate(480, 30)">
        <ns0:text x="0" y="605.0" font-size="11" fill="#6a1b9a" font-weight="bold">
          Neural network ε_θ predicts:
        </ns0:text>
        <ns0:text x="0" y="630.0" font-size="11" fill="#1a237e">
          noise added at step t
        </ns0:text>
        <ns0:text x="0" y="655.0" font-size="11" fill="#1a237e">
          → Subtract noise to recover
        </ns0:text>
        <ns0:text x="0" y="680.0" font-size="11" fill="#1a237e">
          cleaner image x_{t-1}
        </ns0:text>
      </ns0:g>
      <ns0:g transform="translate(0, 130)">
        <ns0:text x="0" y="705.0" font-size="12" font-family="Arial, sans-serif" fill="#6a1b9a">
          <ns0:tspan x="0" dy="0">p_θ(x_{t-1} | x_t) = N(x_{t-1}; μ_θ(x_t, t), Σ_θ(x_t, t))</ns0:tspan>
          <ns0:tspan x="0" dy="1.2em">// Learned denoising</ns0:tspan>
        </ns0:text>
      </ns0:g>
    </ns0:g>
  </ns0:g>
  <ns0:g transform="translate(50, 720)">
    <ns0:text x="500" y="730.0" font-size="16" font-weight="bold" text-anchor="middle" fill="#e67e22">
      4. Training &amp; Generation
    </ns0:text>
    <ns0:rect x="0" y="20" width="2250.0" height="140" fill="#1a237e" stroke="#fd7e14" stroke-width="3" rx="8"/>
    <ns0:g transform="translate(30, 50)">
      <ns0:g>
        <ns0:text x="0" y="755.0" font-size="13" font-weight="bold" fill="#d84315">
          Training:
        </ns0:text>
        <ns0:text x="0" y="780.0" font-size="12" fill="#1a237e">
          1. Take clean image x₀ → Sample random t → Add noise to get x_t
        </ns0:text>
        <ns0:text x="0" y="805.0" font-size="12" fill="#1a237e">
          2. Train NN to predict the noise: L = ||ε - ε_θ(x_t, t)||²
        </ns0:text>
      </ns0:g>
      <ns0:g transform="translate(0, 65)">
        <ns0:text x="0" y="830.0" font-size="13" font-weight="bold" fill="#d84315">
          Generation:
        </ns0:text>
        <ns0:text x="0" y="855.0" font-size="12" fill="#1a237e">
          <ns0:tspan x="0" dy="0">Start from pure noise x_T ~ N(0,I) → Iteratively denoise</ns0:tspan>
          <ns0:tspan x="0" dy="1.2em">for T steps → Get generated image x₀</ns0:tspan>
        </ns0:text>
        <ns0:text x="0" y="880.0" font-size="12" fill="#2e7d32">
          ✓ High quality • ✓ Stable training • ✗ Slow (need T=1000 steps)
        </ns0:text>
        <ns0:text x="0" y="905.0" font-size="11" fill="#1a237e">
          <ns0:tspan x="0" dy="0">Speed-ups: DDIM (fewer steps), Latent Diffusion (Stable</ns0:tspan>
          <ns0:tspan x="0" dy="1.2em">Diffusion - work in latent space)</ns0:tspan>
        </ns0:text>
      </ns0:g>
    </ns0:g>
  </ns0:g>
</ns0:svg>
